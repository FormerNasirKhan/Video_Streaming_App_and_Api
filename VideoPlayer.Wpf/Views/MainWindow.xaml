<Window x:Class="VideoPlayer.Wpf.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WPF Video Player (MVVM)" Height="600" Width="960">
    <Grid Margin="8">
        <!-- Left: list & controls -->
        <Grid Grid.Column="0" Margin="0,0,8,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0" Margin="0 0 0 8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="60"/>
                </Grid.ColumnDefinitions>

                <Button Content="Refresh" Width="80" Margin="0 0 8 0" Command="{Binding RefreshCommand}" Grid.Column="0"/>
                <Button Content="Play"    Width="60" Margin="0 0 8 0" Command="{Binding PlayCommand}" Grid.Column="1"/>
                <Button Content="Pause"   Width="60" Margin="0 0 8 0" Command="{Binding PauseCommand}" Grid.Column="2"/>
                <Button Content="Stop"    Width="60" Command="{Binding StopCommand}" Grid.Column="3"/>
            </Grid>

            <ListBox Grid.Row="1"
                     ItemsSource="{Binding Videos}"
                     SelectedItem="{Binding SelectedVideo}"
                     DisplayMemberPath="DisplayName"
                     HorizontalContentAlignment="Stretch" />
        </Grid>

        <!-- Right: video -->
        <Border Grid.Column="1" Background="#666" CornerRadius="6" Padding="6">
            <!-- LoadedBehavior=Play auto-plays when Source changes -->
            <MediaElement x:Name="Player"
                          LoadedBehavior="Manual" UnloadedBehavior="Manual"
                          Stretch="Uniform"
                          Source="{Binding SelectedVideo.StreamUrl}" />
        </Border>
    </Grid>
</Window>
